(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},s={app:0},r=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0146":function(t,e,a){"use strict";var n=a("2f23"),s=a.n(n);s.a},"04ff":function(t,e,a){},"0726":function(t,e,a){},"0ef6":function(t,e,a){"use strict";var n=a("04ff"),s=a.n(n);s.a},"2f23":function(t,e,a){},4056:function(t,e,a){"use strict";var n=a("b8cf"),s=a.n(n);s.a},"4e60":function(t,e,a){"use strict";var n=a("0726"),s=a.n(n);s.a},"4eab":function(t,e,a){"use strict";var n=a("612e"),s=a.n(n);s.a},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),s=a("bc3a"),r=a.n(s);let i={};const o=r.a.create(i);o.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),o.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,e){t.axios=o,window.axios=o,Object.defineProperties(t.prototype,{axios:{get(){return o}},$axios:{get(){return o}}})},n["a"].use(Plugin);Plugin;var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},l=[],u={name:"",props:[],components:{},data(){return{}},computed:{},watch:{},methods:{},created(){},mounted(){},updated(){},activated(){},deactivated(){}},p=u,d=a("2877"),h=Object(d["a"])(p,c,l,!1,null,"6bdf1d13",null),v=h.exports,m=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("header",[a("van-nav-bar",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],attrs:{title:"ELE","left-text":"返回顶部","right-text":"登录/注册",fixed:""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),a("van-nav-bar",{directives:[{name:"show",rawName:"v-show",value:!t.flag,expression:"!flag"}],attrs:{title:"","left-text":"返回顶部",fixed:""},on:{"click-left":t.onClickLeft,"click-right":function(e){return t.grxx()}},scopedSlots:t._u([{key:"right",fn:function(){return[a("van-icon",{attrs:{name:"friends-o",size:"20"}})]},proxy:!0}])})],1),a("section",[a("nav",[a("p",[t._v("当前定位城市")]),a("p",[t._v(t._s(t.dq.name))])]),a("div",[a("p",[t._v("热门城市")]),a("ul",{attrs:{id:"hot"}},t._l(t.hot,(function(e,n){return a("li",{key:n,staticClass:"lic"},[t._v(t._s(e.name))])})),0)]),a("van-index-bar",{attrs:{"sticky-offset-top":46,"index-list":t.indexList}},t._l(t.v,(function(e,n){return a("div",{key:n},[a("van-index-anchor",{attrs:{index:n}}),a("ul",{staticClass:"ula"},t._l(e,(function(e,n){return a("li",{key:n,staticClass:"lic",on:{click:function(a){return t.tzl(e)}}},[t._v(t._s(e.name))])})),0)],1)})),0)],1),a("router-view")],1)},g=[];r.a.defaults.withCredentials=!0;const _=r.a.create({baseURL:"http://elm.cangdu.org",timeout:5e3});_.interceptors.request.use(t=>(console.log(t),t)),_.interceptors.response.use(t=>(console.log(t),t));var y=_;function b(t,e){return y.get(t,{params:e})}function w(t,e){return y.post(t,e)}function x(t){return b("/v1/cities?type="+t)}var k={data(){return{dq:[],hots:[],list:[],arr:[],arrs:[],v:"",flag:!0,idk:JSON.parse(localStorage.getItem("a"))||"",indexList:["A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","W","X","Y","Z"]}},methods:{async dqs(){let{data:t}=await x("group");this.list=t,console.log(this.list);let e=Object.keys(this.list).sort();e.map(t=>{this.arr[t]=this.list[t]}),this.v={...this.arr},console.log(this.v),console.log(this.arr)},async dqcs(){let{data:t}=await x("guess");this.dq=t,console.log(this.dq)},async hot(){let{data:t}=await x("hot");this.hots=t,console.log(this.hots)},onClickLeft(){this.goTop()},onClickRight(){this.$router.push("/About")},grxx(){this.$router.push("/User")},goTop(){var t=setInterval((function(){let e=document.documentElement.scrollTop||document.body.scrollTop,a=Math.floor(-e/5);document.documentElement.scrollTop=document.body.scrollTop=e+a,this.isTop=!0,0===e&&clearInterval(t)}),30)},tzl(t){this.$router.push({name:"Xq",params:{age:t}})}},mounted(){this.dqs(),this.dqcs(),this.hot(),""==this.idk?this.flag=!0:this.flag=!1}},$=k,j=(a("cccb"),Object(d["a"])($,f,g,!1,null,null,null)),S=j.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",[a("van-nav-bar",{attrs:{title:"密码登录","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}})],1),a("section",[a("div",{attrs:{id:"hz"}},[a("p",{attrs:{id:"p2"}},[t._v(" 账号： "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tel,expression:"tel"}],attrs:{type:"tel"},domProps:{value:t.tel},on:{blur:function(e){return t.Phone()},input:function(e){e.target.composing||(t.tel=e.target.value)}}})]),a("hr"),a("p",{attrs:{id:"p"}},[a("span",[t._v("密码： "),"checkbox"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.pwd)?t._i(t.pwd,null)>-1:t.pwd},on:{blur:function(e){return t.mm()},change:function(e){var a=t.pwd,n=e.target,s=!!n.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);n.checked?i<0&&(t.pwd=a.concat([r])):i>-1&&(t.pwd=a.slice(0,i).concat(a.slice(i+1)))}else t.pwd=s}}}):"radio"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"radio"},domProps:{checked:t._q(t.pwd,null)},on:{blur:function(e){return t.mm()},change:function(e){t.pwd=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:t.type},domProps:{value:t.pwd},on:{blur:function(e){return t.mm()},input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),a("Zi",{on:{qq:t.qqhh}})],1),a("hr"),a("p",{attrs:{id:"p1"}},[t._v(" 验证码： "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.yam,expression:"yam"}],attrs:{type:"number"},domProps:{value:t.yam},on:{blur:function(e){return t.yzm()},input:function(e){e.target.composing||(t.yam=e.target.value)}}}),a("img",{attrs:{src:t.pic,alt:""}}),a("button",{staticClass:"btn",on:{click:function(e){return t.huan()}}},[t._v("换")])]),a("hr")]),t._m(0),a("van-button",{attrs:{type:"primary",size:"large",disabled:t.zt},on:{click:function(e){return t.lgi()}}},[t._v("登录")])],1)])},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"divz"}},[a("p",[t._v("温馨提示：未注册过的账号，登录时将自动注册")]),a("p",[t._v("注册过的用户可凭账号密码登录")])])}],q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{click:function(e){return t.hd()}}},[t.flag?a("div",{staticClass:"diva"},[a("span",{staticClass:"spana"})]):t._e(),t.flag?t._e():a("div",{staticClass:"divb"},[a("span",{staticClass:"spanb"})])])},N=[],P={name:"Zi",props:[],components:{},data(){return{flag:!0}},computed:{},watch:{},methods:{hd(){this.flag=!this.flag,this.$emit("qq",this.flag)}},created(){},mounted(){},updated(){},activated(){},deactivated(){}},z=P,E=(a("4eab"),Object(d["a"])(z,q,N,!1,null,"5d67f0ca",null)),I=E.exports;r.a.defaults.withCredentials=!0;var J={name:"About",props:[],components:{Zi:I},data(){return{tel:"",pwd:"",yam:"",type:"password",zt:!0,jy:[],pic:""}},computed:{},watch:{jy:{handler(t){console.log(t),3==t.length?(this.zt=!1,console.log(this.zt)):(this.zt=!0,console.log(this.zt))}}},methods:{onClickLeft(){this.$router.go(-1)},Phone(){if(!/^1[3456789]\d{9}$/.test(this.tel))return alert("手机号码有误，请重填"),this.jy!=[]&&this.jy.shift(1),!1;this.jy.push(1),console.log(this.jy)},mm(){if(""==this.pwd||6!=this.pwd.length)return alert("密码不能为空或不正确，请重填"),this.jy!=[]&&this.jy.shift(1),!1;this.jy.push(2),console.log(this.jy)},yzm(){if(""==this.yam||4!=this.yam.length)return alert("验证码不能为空或不正确，请重填"),this.jy!=[]&&this.jy.shift(1),!1;this.jy.push(3),console.log(this.jy)},qqhh(t){console.log(t),this.type=t?"password":"text"},lgi(){this.setCookie("cap",this.yam,2),this.setCookie("SID",100,2),this.axios.post("http://elm.cangdu.org/v2/login",{username:this.tel,password:this.pwd,captcha_code:this.yam}).then(t=>{void 0==t.data.status&&this.$router.push({name:"Home",params:{}}),localStorage.setItem("a",JSON.stringify(t.data))})},setCookie(t,e,a){var n=new Date;n.setDate(n.getDate()+a),document.cookie=t+"="+e+"; expires="+n.toDateString()},huan(){this.$post("http://elm.cangdu.org/v1/captchas").then(t=>{console.log(t),this.pic=t.data.code,console.log(this.pic)})}},created(){},mounted(){this.$post("http://elm.cangdu.org/v1/captchas").then(t=>{console.log(t),this.pic=t.data.code,console.log(this.pic)})},updated(){},activated(){},deactivated(){}},L=J,T=(a("0ef6"),Object(d["a"])(L,C,O,!1,null,"39a9a09a",null)),A=T.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",[a("van-nav-bar",{on:{"click-right":function(e){return t.grxx()}},scopedSlots:t._u([{key:"left",fn:function(){return[a("van-icon",{attrs:{name:"search",size:"24"}})]},proxy:!0},{key:"title",fn:function(){return[a("h5",{on:{click:function(e){return t.th()}}},[t._v(t._s(t.arr.address))])]},proxy:!0},{key:"right",fn:function(){return[a("van-icon",{attrs:{name:"friends-o",size:"24"}})]},proxy:!0}])})],1),a("section",[a("router-view")],1),a("footer",[a("van-tabbar",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("van-tabbar-item",{attrs:{icon:"home-o"}},[t._v("外卖")]),a("van-tabbar-item",{attrs:{icon:"search"}},[t._v("搜索")]),a("van-tabbar-item",{attrs:{icon:"setting-o"}},[t._v("订单")]),a("van-tabbar-item",{attrs:{icon:"friends-o"},on:{click:function(e){return t.togo()}}},[t._v("我的")])],1)],1)])},D=[],M={name:"",props:[],components:{},data(){return{arr:JSON.parse(localStorage.getItem("c"))||[],active:0}},computed:{},watch:{},methods:{th(){this.$router.push("/")},sx(){this.$router.push("/Gr")},grxx(){this.$router.push("/User")},togo(){this.$router.push("/User")}},created(){},mounted(){if(void 0==this.$route.params.age)return!1;this.arr=this.$route.params.age,console.log(this.arr),localStorage.setItem("c",JSON.stringify(this.arr)),this.sx()},updated(){},activated(){},deactivated(){}},R=M,U=(a("4e60"),Object(d["a"])(R,G,D,!1,null,"66db0ca8",null)),X=U.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",[a("van-nav-bar",{attrs:{title:t.arr.name,"left-text":"返回","right-text":"切换城市","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}})],1),a("section",[a("van-search",{attrs:{placeholder:"输入学校、商务楼、地址"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),a("van-button",{attrs:{type:"primary",size:"large"},on:{click:function(e){return t.tj()}}},[t._v("提交")])],1),a("footer",[a("ul",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}]},[a("li",[t._v("历史记录")]),t._l(t.list,(function(e,n){return a("li",{key:n,staticClass:"lib",on:{click:function(a){return t.govs(e)}}},[a("p",[t._v(t._s(e.name))]),a("span",[t._v(t._s(e.address))])])}))],2),a("ul",{directives:[{name:"show",rawName:"v-show",value:!t.flag,expression:"!flag"}]},t._l(t.slist,(function(e,n){return a("li",{key:n,staticClass:"lib",on:{click:function(e){return t.gov(n)}}},[a("p",[t._v(t._s(e.name))]),a("span",[t._v(t._s(e.address))])])})),0)])])},H=[],F={name:"Xq",props:[],components:{},data(){return{arr:"",value:"",list:JSON.parse(localStorage.getItem("b"))||[],slist:[],flag:!0}},computed:{},watch:{},methods:{onClickLeft(){this.$router.push("/")},onClickRight(){this.$router.push("/")},tj(){this.flag=!this.flag,this.$get(`http://elm.cangdu.org/v1/pois?type=search&city_id=${this.arr.id}&keyword=${this.value}`).then(t=>{console.log(t.data),this.slist=t.data})},gov(t){5==this.list.length?(this.list.shift(1),this.list.push(this.slist[t]),localStorage.setItem("b",JSON.stringify(this.list)),this.$router.push({name:"Gr",params:{age:this.slist[t]}})):(this.list.push(this.slist[t]),localStorage.setItem("b",JSON.stringify(this.list)),this.$router.push({name:"Gr",params:{age:this.slist[t]}}))},govs(t){console.log(t),5==this.list.length?(this.list.shift(1),this.list.push(t),localStorage.setItem("b",JSON.stringify(this.list)),this.$router.push({name:"Gr",params:{age:t}})):(this.list.push(t),localStorage.setItem("b",JSON.stringify(this.list)),this.$router.push({name:"Gr",params:{age:t}}))}},created(){},mounted(){this.arr=this.$route.params.age,console.log(this.arr)},updated(){},activated(){},deactivated(){}},W=F,B=(a("4056"),Object(d["a"])(W,Z,H,!1,null,"4d57db32",null)),K=B.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-swipe",{staticClass:"my-swipe",attrs:{"indicator-color":"white",loop:!1}},[a("van-swipe-item",[a("van-grid",{attrs:{square:""}},[a("div",{staticClass:"box"},t._l(t.list,(function(e,n){return n<8?a("dl",{key:n},[a("dt",[a("img",{attrs:{src:t.pic+e.image_url,alt:""}})]),a("dd",[t._v(t._s(e.title))])]):t._e()})),0)])],1),a("van-swipe-item",[a("van-grid",{attrs:{square:""}},[a("div",{staticClass:"box"},[void 0,t._l(t.list,(function(e,n){return n>8?a("dl",{key:n},[a("dt",[a("img",{attrs:{src:t.pic+e.image_url,alt:""}})]),a("dd",[t._v(t._s(e.title))])]):t._e()}))],2)])],1)],1),t._l(t.lists,(function(e,n){return a("van-card",{key:n,attrs:{desc:e.promotion_info,title:e.name,tag:"品牌",thumb:t.cpic+e.image_path,price:"20.00起送"},scopedSlots:t._u([{key:"tags",fn:function(){return[a("van-tag",{attrs:{plain:"",type:"danger"}},[t._v("蜂鸟专递")]),a("van-tag",{attrs:{plain:"",type:"danger"}},[t._v("准时达")]),a("span",{staticClass:"span1"},[t._v("20公里/33分钟")])]},proxy:!0}],null,!0)})}))],2)},Y=[],V={name:"",props:[],components:{},data(){return{c:JSON.parse(localStorage.getItem("c")),list:[],pic:"",cpic:"",lists:""}},computed:{},watch:{},methods:{},created(){},mounted(){let t=this.c.latitude,e=this.c.longitude;this.pic="https://fuss10.elemecdn.com",this.cpic="http://elm.cangdu.org/img/",this.$get("http://elm.cangdu.org/v2/index_entry?geohash="+t+","+e+"&group_type=1&flags[]=F").then(t=>{console.log(t),this.list=t.data,console.log(this.list)}),this.$get("http://elm.cangdu.org/shopping/restaurants?latitude="+t+"&longitude="+e+"&offset=0&limit=20&extras[]=activities&keyword=&restaurant_category_id=&restaurant_category_ids[]=&order_by=&delivery_mode[]=").then(t=>{this.lists=t.data,console.log(this.lists)})},updated(){},activated(){},deactivated(){}},tt=V,et=(a("fde0"),Object(d["a"])(tt,Q,Y,!1,null,"3492d14e",null)),at=et.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",[a("van-nav-bar",{attrs:{title:"我的","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}})],1),a("van-card",{attrs:{desc:"暂无绑定手机号",title:t.a.username,thumb:t.tx+t.a.avatar},scopedSlots:t._u([{key:"footer",fn:function(){return[a("van-button",{attrs:{size:"mini"},on:{click:function(e){return t.tc()}}},[t._v("退出")])]},proxy:!0}])}),a("nav",[t._m(0),a("div",[a("p",[a("span",[t._v(t._s(t.a.gift_amount))]),t._v("个 ")]),a("p",[t._v("我的优惠")])]),t._m(1)]),a("van-tabbar",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("van-tabbar-item",{attrs:{icon:"home-o"},on:{click:function(e){return t.togo()}}},[t._v("外卖")]),a("van-tabbar-item",{attrs:{icon:"search"}},[t._v("搜索")]),a("van-tabbar-item",{attrs:{icon:"setting-o"}},[t._v("订单")]),a("van-tabbar-item",{attrs:{icon:"friends-o"}},[t._v("我的")])],1)],1)},st=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[a("span",[t._v("0.00")]),t._v("元 ")]),a("p",[t._v("我的余额")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[a("span",[t._v("0")]),t._v("分 ")]),a("p",[t._v("我的积分")])])}],rt={name:"",props:[],components:{},data(){return{a:JSON.parse(localStorage.getItem("a")),tx:"",active:3}},computed:{},watch:{},methods:{onClickLeft(){this.$router.go(-1)},tc(){localStorage.removeItem("a"),this.$router.push("/")},togo(){this.$router.push("/Gr")}},created(){},mounted(){this.tx="http://elm.cangdu.org/img/"},updated(){},activated(){},deactivated(){}},it=rt,ot=(a("0146"),Object(d["a"])(it,nt,st,!1,null,"a313e6cc",null)),ct=ot.exports;n["a"].use(m["a"]);const lt=[{path:"/",name:"Home",component:S},{path:"/About",name:"About",component:A},{path:"/Gr",name:"Gr",component:X,children:[{path:"/",name:"Sy",component:at}]},{path:"/Xq",name:"Xq",component:K},{path:"/User",name:"User",component:ct}],ut=new m["a"]({routes:lt});var pt=ut,dt=a("b970"),ht=a("6b41"),vt=a("e11d"),mt=a("92e2"),ft=(a("157a"),a("2830")),gt=a("21ab"),_t=a("b650"),yt=a("d961"),bt=a("ac28"),wt=a("2ed4"),xt=a("5596"),kt=a("2bb1"),$t=a("66fd");n["a"].use($t["a"]),n["a"].use(xt["a"]),n["a"].use(kt["a"]),n["a"].use(bt["a"]),n["a"].use(wt["a"]),n["a"].use(yt["a"]),n["a"].use(_t["a"]),n["a"].use(ft["a"]),n["a"].use(gt["a"]),n["a"].use(vt["a"]),n["a"].use(mt["a"]),n["a"].use(ht["a"]),n["a"].use(dt["a"]);a("f1a5");n["a"].config.productionTip=!1,n["a"].prototype.$http=y,n["a"].prototype.$get=b,n["a"].prototype.$post=w,new n["a"]({router:pt,render:function(t){return t(v)}}).$mount("#app")},"5ced":function(t,e,a){},"612e":function(t,e,a){},8096:function(t,e,a){},b8cf:function(t,e,a){},cccb:function(t,e,a){"use strict";var n=a("5ced"),s=a.n(n);s.a},f1a5:function(t,e){function a(){document.documentElement.style.fontSize=document.documentElement.clientWidth/3.75+"px"}a(),window.onresize=a},fde0:function(t,e,a){"use strict";var n=a("8096"),s=a.n(n);s.a}});
//# sourceMappingURL=app.1e713160.js.map