(function(e){function t(t){for(var a,r,i=t[0],n=t[1],u=t[2],c=0,m=[];c<i.length;c++)r=i[c],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);d&&d(t);while(m.length)m.shift()();return l.push.apply(l,u||[]),s()}function s(){for(var e,t=0;t<l.length;t++){for(var s=l[t],a=!0,r=1;r<s.length;r++){var i=s[r];0!==o[i]&&(a=!1)}a&&(l.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},r={app:0},o={app:0},l=[];function i(e){return n.p+"js/"+({about:"about"}[e]||e)+"."+{about:"04de6f0e"}[e]+".js"}function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.e=function(e){var t=[],s={about:1};r[e]?t.push(r[e]):0!==r[e]&&s[e]&&t.push(r[e]=new Promise((function(t,s){for(var a="css/"+({about:"about"}[e]||e)+"."+{about:"71860d11"}[e]+".css",o=n.p+a,l=document.getElementsByTagName("link"),i=0;i<l.length;i++){var u=l[i],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===a||c===o))return t()}var m=document.getElementsByTagName("style");for(i=0;i<m.length;i++){u=m[i],c=u.getAttribute("data-href");if(c===a||c===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||o,l=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");l.code="CSS_CHUNK_LOAD_FAILED",l.request=a,delete r[e],d.parentNode.removeChild(d),s(l)},d.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var l=new Promise((function(t,s){a=o[e]=[t,s]}));t.push(a[2]=l);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.src=i(e);var m=new Error;u=function(t){c.onerror=c.onload=null,clearTimeout(d);var s=o[e];if(0!==s){if(s){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",m.name="ChunkLoadError",m.type=a,m.request=r,s[1](m)}o[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(t)},n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var m=0;m<u.length;m++)t(u[m]);var d=c;l.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"00d9":function(e,t,s){"use strict";var a=s("51e7"),r=s.n(a);r.a},"034f":function(e,t,s){"use strict";var a=s("85ec"),r=s.n(a);r.a},"0374":function(e,t,s){"use strict";var a=s("c381"),r=s.n(a);r.a},"0aba":function(e,t,s){"use strict";var a=s("e39a"),r=s.n(a);r.a},"272f":function(e,t,s){"use strict";var a=s("f907"),r=s.n(a);r.a},"51e7":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),r=s("bc3a"),o=s.n(r);let l={baseURL:"https://www.liulongbin.top:8888/api/private/v1/",timeout:6e4};const i=o.a.create(l);i.interceptors.request.use((function(e){const t=sessionStorage.getItem("token");return e.headers.Authorization=t,e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return console.log(e.data.meta.status),401==e.data.meta.status&&(sessionStorage.removeItem("token"),this.$router.push("/")),e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e,t){e.axios=i,window.axios=i,Object.defineProperties(e.prototype,{axios:{get(){return i}},$axios:{get(){return i}}})},a["default"].use(Plugin);Plugin;var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},u=[],c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("h1",[e._v(e._s(e.msg))]),e._m(0),s("h3",[e._v("Installed CLI Plugins")]),e._m(1),s("h3",[e._v("Essential Links")]),e._m(2),s("h3",[e._v("Ecosystem")]),e._m(3)])},m=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v(" For a guide and recipes on how to configure / customize this project,"),s("br"),e._v(" check out the "),s("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(". ")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router",target:"_blank",rel:"noopener"}},[e._v("router")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-vuex",target:"_blank",rel:"noopener"}},[e._v("vuex")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),s("li",[s("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),s("li",[s("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),s("li",[s("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],d={name:"HelloWorld",props:{msg:String}},h=d,p=(s("272f"),s("2877")),g=Object(p["a"])(h,c,m,!1,null,"df2aa6b2",null),f=g.exports,b={name:"app",components:{HelloWorld:f}},y=b,v=(s("034f"),Object(p["a"])(y,n,u,!1,null,null,null)),x=v.exports,_=s("8c4f"),F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"boxx"},[s("div",{staticClass:"box"},[s("van-form",[s("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("div",{staticStyle:{margin:"16px"},attrs:{id:"footer"}},[s("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("登录")]),s("el-button",{attrs:{type:"danger"},on:{click:e.onCl}},[e._v("重置")])],1)],1)],1),e._m(0),s("div",{staticClass:"ts"})])},w=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"y"},[a("img",{attrs:{src:s("cf05"),alt:""}})])}],k={name:"home",props:[],components:{},data(){return{username:"admin",password:"123456"}},computed:{},watch:{},methods:{onSubmit(){this.axios.post("login",{username:this.username,password:this.password}).then(e=>{200==e.data.meta.status?(this.$toast("登录成功"),sessionStorage.setItem("token",e.data.data.token),setTimeout(()=>{this.$router.push("/About")},2e3)):this.$toast(e.data.meta.msg)})},onCl(){this.username="",this.password="",this.$toast("重置成功")}},created(){},mounted(){},updated(){},activated(){},deactivated(){}},j=k,C=(s("00d9"),Object(p["a"])(j,F,w,!1,null,"7a5e1e02",null)),$=C.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/About"}}},[e._v("首页")]),s("el-breadcrumb-item",[e._v(e._s(e.yi))]),s("el-breadcrumb-item",[e._v(e._s(e.er))])],1),s("div",{staticClass:"el-card__body"},[s("div",{staticClass:"sou"},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.ss},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.ss},slot:"append"})],1),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加用户")])],1),[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.huser,stripe:"",border:""}},[s("el-table-column",{attrs:{type:"index",label:"#",width:"60"}}),s("el-table-column",{attrs:{prop:"username",label:"姓名",width:"160"}}),s("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"160"}}),s("el-table-column",{attrs:{prop:"mobile",label:"电话",width:"160"}}),s("el-table-column",{attrs:{prop:"role_name",label:"角色",width:"160"}}),s("el-table-column",{attrs:{prop:"sg_state",label:"状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#DCDFE6"},on:{change:function(s){return e.qqhh(t.row)}},model:{value:t.row.mg_state,callback:function(s){e.$set(t.row,"mg_state",s)},expression:"scope.row.mg_state"}})]}}])}),s("el-table-column",{attrs:{prop:"email",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(s){return e.xgyhff(t.row)}}}),s("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(s){return e.open(t.row)}}}),s("el-button",{attrs:{type:"warning",icon:"el-icon-setting",size:"mini"},on:{click:function(s){return e.fp(t.row)}}})]}}])})],1)],s("el-pagination",{attrs:{"page-sizes":[2,3,4,5],layout:"total, sizes, prev, pager, next, jumper",total:e.fy.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],2),s("el-dialog",{attrs:{title:"添加用户",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"用户名",prop:"name"}},[s("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[s("el-input",{model:{value:e.ruleForm.pwd,callback:function(t){e.$set(e.ruleForm,"pwd",t)},expression:"ruleForm.pwd"}})],1),s("el-form-item",{attrs:{label:"邮箱",prop:"yx"}},[s("el-input",{model:{value:e.ruleForm.yx,callback:function(t){e.$set(e.ruleForm,"yx",t)},expression:"ruleForm.yx"}})],1),s("el-form-item",{attrs:{label:"电话",prop:"tel"}},[s("el-input",{model:{value:e.ruleForm.tel,callback:function(t){e.$set(e.ruleForm,"tel",t)},expression:"ruleForm.tel"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.tjyh()}}},[e._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"编辑用户",visible:e.dialogFormVisibles},on:{"update:visible":function(t){e.dialogFormVisibles=t}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"用户名",prop:"names"}},[s("el-input",{attrs:{disabled:""},model:{value:e.ruleForms.names,callback:function(t){e.$set(e.ruleForms,"names",t)},expression:"ruleForms.names"}})],1),s("el-form-item",{attrs:{label:"邮箱",prop:"yxs"}},[s("el-input",{model:{value:e.ruleForms.yxs,callback:function(t){e.$set(e.ruleForms,"yxs",t)},expression:"ruleForms.yxs"}})],1),s("el-form-item",{attrs:{label:"电话",prop:"tels"}},[s("el-input",{model:{value:e.ruleForms.tels,callback:function(t){e.$set(e.ruleForms,"tels",t)},expression:"ruleForms.tels"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisibles=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.xgyh()}}},[e._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"分配角色",visible:e.dialogFormVisibless},on:{"update:visible":function(t){e.dialogFormVisibless=t}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"当前用户"}},[s("el-input",{attrs:{disabled:""},model:{value:e.rule.name,callback:function(t){e.$set(e.rule,"name",t)},expression:"rule.name"}})],1),s("el-form-item",{attrs:{label:"当前角色"}},[s("el-input",{attrs:{disabled:""},model:{value:e.rule.js,callback:function(t){e.$set(e.rule,"js",t)},expression:"rule.js"}})],1),s("el-form-item",{attrs:{label:"分配新角色"}},[s("el-select",{attrs:{placeholder:"请选择身份"},model:{value:e.rule.xjs,callback:function(t){e.$set(e.rule,"xjs",t)},expression:"rule.xjs"}},e._l(e.sfxx,(function(e,t){return s("el-option",{key:t,attrs:{label:e.roleName,value:e.id}})})),1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisibless=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.fen()}}},[e._v("确 定")])],1)],1)],1)},z=[],V={name:"",props:[],components:{},data(){return{lj:"",arr:[],yi:"",er:"",sms:"",huser:[],input:"",fy:[],sssj:[],myxs:"2",ym:"1",cid:"",tid:"",vid:"",dialogFormVisible:!1,dialogFormVisibles:!1,dialogFormVisibless:!1,sfxx:"",ruleForm:{name:"",pwd:"",yx:"",tel:""},ruleForms:{names:"",yxs:"",tels:""},rule:{name:"",js:"",xjs:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:16,message:"长度在 3 到 16 个字符",trigger:"blur"}],yx:[{required:!0,message:"请输入邮箱",trigger:"blur"},{min:8,max:25,message:"长度在 8 到 25 个字符",trigger:"blur"}],tel:[{required:!0,message:"请输入电话",trigger:"blur"},{min:3,max:11,message:"长度在 3 到 11 个字符",trigger:"blur"}]}}},computed:{},watch:{},methods:{handleSizeChange(e){this.myxs=e,this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{this.huser=e.data.data.users,this.fy=e.data.data})},handleCurrentChange(e){this.ym=e,this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{this.huser=e.data.data.users,this.fy=e.data.data})},open(e){this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log("roles/"+e.id),this.axios.delete("users/"+e.id).then(e=>{}),this.$message({type:"success",message:"删除成功!"}),this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{console.log(e),this.huser=e.data.data.users,this.fy=e.data.data})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},tjyh(){this.dialogFormVisible=!1,this.axios.post("users",{username:this.ruleForm.name,password:this.ruleForm.pwd,email:this.ruleForm.yx,mobile:this.ruleForm.tel}).then(e=>{this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{console.log(e),this.huser=e.data.data.users,this.fy=e.data.data})})},xgyhff(e){this.dialogFormVisibles=!0,this.ruleForms.names=e.username,this.ruleForms.yxs=e.email,this.ruleForms.tels=e.create_time,this.cid=e.id},xgyh(){this.dialogFormVisibles=!1,this.axios.put("users/"+this.cid,{email:this.ruleForms.yxs,mobile:this.ruleForms.tels}).then(e=>{this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{console.log(e),this.huser=e.data.data.users,this.fy=e.data.data})})},ss(){this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs+"&query="+this.input).then(e=>{console.log(e),this.huser=e.data.data.users,this.fy=e.data.data})},qqhh(e){this.axios.put("users/"+e.id+"/state/"+e.mg_state).then(e=>{console.log(e)})},async fp(e){console.log(e),this.dialogFormVisibless=!0,this.rule.name=e.username,this.rule.js=e.role_name,this.tid=e.id,await this.axios.get("roles").then(e=>{console.log(e),this.sfxx=e.data.data,console.log(this.sfxx)})},fen(){this.axios.put("users/"+this.tid+"/role",{rid:this.rule.xjs}).then(e=>{console.log(e),this.dialogFormVisibless=!1})}},created(){},async mounted(){this.lj=sessionStorage.getItem("ly"),this.yi=sessionStorage.getItem("yi"),this.er=sessionStorage.getItem("er"),await this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{console.log(e),this.huser=e.data.data.users,this.fy=e.data.data})},updated(){},activated(){},deactivated(){}},q=V,E=(s("5b09"),Object(p["a"])(q,S,z,!1,null,"7f892768",null)),I=E.exports,O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/About"}}},[e._v("首页")]),s("el-breadcrumb-item",[e._v(e._s(e.yi))]),s("el-breadcrumb-item",[e._v(e._s(e.er))])],1),s("div",{staticClass:"el-card__body"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加角色")]),[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:""}},[s("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.children,(function(a,r){return s("el-row",{key:a.id,class:["bdbotton",0==r?"bdtop":"","jzdq"]},[s("el-col",{attrs:{span:5}},[s("el-tag",{attrs:{closable:""},on:{close:function(s){return e.bdsc(t.row,a.id)}}},[e._v(e._s(a.authName))]),s("i",{staticClass:"el-icon-caret-right"})],1),s("el-col",{attrs:{span:19}},e._l(a.children,(function(a,r){return s("el-row",{key:a.id,class:[0===r?"":"bdtop","jzdq"]},[s("el-col",{attrs:{span:6}},[s("el-tag",{attrs:{type:"success",closable:""},on:{close:function(s){return e.bdsc(t.row,a.id)}}},[e._v(e._s(a.authName))]),s("i",{staticClass:"el-icon-caret-right"})],1),s("el-col",{attrs:{span:18}},e._l(a.children,(function(a){return s("el-tag",{key:a.id,attrs:{type:"warning",closable:""},on:{close:function(s){return e.bdsc(t.row,a.id)}}},[e._v(e._s(a.authName))])})),1)],1)})),1)],1)}))}}])}),s("el-table-column",{attrs:{label:"#",type:"index",width:"80"}}),s("el-table-column",{attrs:{label:"角色名称",prop:"roleName",width:"325"}}),s("el-table-column",{attrs:{label:"角色描述",prop:"roleDesc",width:"325"}}),s("el-table-column",{attrs:{label:"操作",width:"325"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(s){return e.xgyhff(t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(s){return e.open(t.row)}}},[e._v("删除")]),s("el-button",{attrs:{type:"warning",icon:"el-icon-setting",size:"mini"},on:{click:function(s){return e.fp(t.row)}}},[e._v("分配权限")])]}}])})],1)]],2),s("el-dialog",{attrs:{title:"添加角色",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[s("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),s("el-form-item",{attrs:{label:"角色描述",prop:"pwd"}},[s("el-input",{model:{value:e.ruleForm.pwd,callback:function(t){e.$set(e.ruleForm,"pwd",t)},expression:"ruleForm.pwd"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.tjyh()}}},[e._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"修改角色",visible:e.dialogFormVisibles},on:{"update:visible":function(t){e.dialogFormVisibles=t}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"角色名称",prop:"names"}},[s("el-input",{model:{value:e.ruleForms.names,callback:function(t){e.$set(e.ruleForms,"names",t)},expression:"ruleForms.names"}})],1),s("el-form-item",{attrs:{label:"角色描述",prop:"yxs"}},[s("el-input",{model:{value:e.ruleForms.yxs,callback:function(t){e.$set(e.ruleForms,"yxs",t)},expression:"ruleForms.yxs"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisibles=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.xgyh()}}},[e._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"分配权限",visible:e.dialogFormVisibless},on:{"update:visible":function(t){e.dialogFormVisibless=t},close:e.qk}},[s("el-tree",{ref:"treeRef",attrs:{data:e.sfxx,props:e.defaultProps,"show-checkbox":"","default-expand-all":"","node-key":"id","default-checked-keys":e.arr}}),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisibless=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.fen()}}},[e._v("确 定")])],1)],1)],1)},T=[],P={name:"",props:[],components:{},data(){return{arr:[],roId:"",yi:"",er:"",lj:"",list:[],dialogFormVisible:!1,dialogFormVisibles:!1,dialogFormVisibless:!1,sfxx:[],ruleForm:{name:"",pwd:""},ruleForms:{names:"",yxs:"",tels:""},rule:{name:"",js:"",xjs:""},rules:{name:[{required:!0,message:"请输入角色名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],pwd:[{required:!0,message:"请输入角色描述",trigger:"blur"},{min:3,max:16,message:"长度在 3 到 16 个字符",trigger:"blur"}]},defaultProps:{children:"children",label:"authName"}}},computed:{},watch:{},methods:{xgyhff(e){this.dialogFormVisibles=!0,this.ruleForms.names=e.roleName,this.ruleForms.yxs=e.roleDesc,this.cid=e.id},xgyh(){this.dialogFormVisibles=!1,this.axios.put(this.lj+"/"+this.cid,{roleName:this.ruleForms.names,roleDesc:this.ruleForms.yxs}).then(e=>{this.axios.get(this.lj).then(e=>{console.log(e),this.list=e.data.data,console.log(this.list)})})},open(e){this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log(this.lj+"/"+e.id),this.axios.delete(this.lj+"/"+e.id).then(e=>{}),this.$message({type:"success",message:"删除成功!"}),this.axios.get(this.lj).then(e=>{console.log(e),this.list=e.data.data,console.log(this.list)})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},async fp(e){this.roId=e.id,console.log(e),await this.axios.get("rights/tree").then(e=>{console.log(e),this.sfxx=e.data.data,console.log(this.sfxx)}),this.qx(e,this.arr),this.dialogFormVisibless=!0},qk(){this.arr=[],location.reload()},fen(){console.log(this.arr);const e=[...this.$refs.treeRef.getCheckedKeys(),...this.$refs.treeRef.getHalfCheckedKeys()],t=e.join(",");this.axios.post("roles/"+this.roId+"/rights",{rids:t}).then(e=>{console.log(e),this.dialogFormVisibless=!1})},qx(e,t){if(console.log(e),!e.children)return this.arr.push(e.id);e.children.forEach(e=>{this.qx(e,this.arr)})},tjyh(){this.dialogFormVisible=!1,this.axios.post(this.lj,{roleName:this.ruleForm.name,roleDesc:this.ruleForm.pwd}).then(e=>{this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{console.log(e),this.list=e.data.data})})},async bdsc(e,t){console.log(e,t);const s=await this.$confirm("此操作将永久删除该权限, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(e=>e);if("confirm"!=s)return this.$message.info("取消删除");await this.axios.delete("roles/"+e.id+"/rights/"+t).then(t=>{e.children=t.data.data})}},created(){},mounted(){this.lj=sessionStorage.getItem("ly"),this.yi=sessionStorage.getItem("yi"),this.er=sessionStorage.getItem("er"),this.axios.get(this.lj).then(e=>{console.log(e),this.list=e.data.data,console.log(this.list)})},updated(){},activated(){},deactivated(){}},N=P,A=(s("daef"),Object(p["a"])(N,O,T,!1,null,"72db0da0",null)),B=A.exports,D=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},L=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h2",[e._v("Welcome!")])])}],R={name:"",props:[],components:{},data(){return{}},computed:{},watch:{},methods:{},created(){},mounted(){},updated(){},activated(){},deactivated(){}},H=R,M=Object(p["a"])(H,D,L,!1,null,"6830ebcc",null),W=M.exports,K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/About"}}},[e._v("首页")]),s("el-breadcrumb-item",[e._v(e._s(e.yi))]),s("el-breadcrumb-item",[e._v(e._s(e.er))])],1),[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",border:""}},[s("el-table-column",{attrs:{type:"index",label:"#",width:"85"}}),s("el-table-column",{attrs:{prop:"authName",label:"权限名称",width:"340"}}),s("el-table-column",{attrs:{prop:"path",label:"路径",width:"340"}}),s("el-table-column",{attrs:{prop:"level",label:"权限等级",width:"340"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.level?s("el-tag",{attrs:{size:"mini"}},[e._v("一级")]):e._e(),1==t.row.level?s("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("二级")]):e._e(),2==t.row.level?s("el-tag",{attrs:{size:"mini",type:"warning"}},[e._v("三级")]):e._e()]}}])})],1)]],2)},U=[],J={name:"",props:[],components:{},data(){return{yi:"",er:"",lj:"",list:[],flaga:!1,flagb:!1,flagc:!1}},computed:{},watch:{},methods:{},created(){},mounted(){this.lj=sessionStorage.getItem("ly"),this.yi=sessionStorage.getItem("yi"),this.er=sessionStorage.getItem("er"),this.axios.get(this.lj+"/list").then(e=>{this.list=e.data.data,console.log(this.list)})},updated(){},activated(){},deactivated(){}},G=J,Y=(s("0aba"),Object(p["a"])(G,K,U,!1,null,"df7b3dde",null)),Q=Y.exports,X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/About"}}},[e._v("首页")]),s("el-breadcrumb-item",[e._v(e._s(e.yi))]),s("el-breadcrumb-item",[e._v(e._s(e.er))])],1),s("div",{staticClass:"el-card__body"},[s("div",{staticClass:"sou"},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容",clearable:""},on:{clear:e.ss},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.ss},slot:"append"})],1),s("el-button",{attrs:{type:"primary"},on:{click:e.addyh}},[e._v("添加商品")])],1),[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list.goods,stripe:"",border:""}},[s("el-table-column",{attrs:{type:"index",label:"#",width:"60"}}),s("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"600"}}),s("el-table-column",{attrs:{prop:"goods_price",label:"商品价格（元）",width:"160"}}),s("el-table-column",{attrs:{prop:"goods_weight",label:"商品重量",width:"160"}}),s("el-table-column",{attrs:{prop:"add_time",label:"创建时间",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("time")(t.row.add_time)))]}}])}),s("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"}}),s("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(s){return e.open(t.row)}}})]}}])})],1)],s("el-pagination",{attrs:{"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:e.list.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],2)],1)},Z=[],ee={name:"",props:[],components:{},data(){return{yi:"",er:"",lj:"",ym:"1",myxs:"10",input:"",list:[],sfxx:[]}},computed:{},watch:{},methods:{handleSizeChange(e){this.myxs=e,this.axios.get(this.lj+"?query=&pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{console.log(e),this.list=e.data.data})},handleCurrentChange(e){this.ym=e,this.axios.get(this.lj+"?query=&pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{console.log(e),this.list=e.data.data})},open(e){this.$confirm("此操作将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log(e),console.log(this.lj+"/"+e.goods_id),this.axios.delete(this.lj+"/"+e.goods_id).then(e=>{console.log(e)}),this.$message({type:"success",message:"删除成功!"}),this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{console.log(e),this.list=e.data.data})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},ss(){this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs+"&query="+this.input).then(e=>{console.log(e),this.list=e.data.data})},addyh(){this.$router.push("/about/add")}},created(){},mounted(){this.yi=sessionStorage.getItem("yi"),this.lj=sessionStorage.getItem("ly"),this.er=sessionStorage.getItem("er"),this.axios.get(this.lj+"?query=&pagenum=1&pagesize=10").then(e=>{this.list=e.data.data,console.log(this.list)})},updated(){},activated(){},deactivated(){}},te=ee,se=(s("ebfa"),Object(p["a"])(te,X,Z,!1,null,"b948765e",null)),ae=se.exports,re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._v(" add ")])},oe=[],le={name:"",props:[],components:{},data(){return{}},computed:{},watch:{},methods:{},created(){},mounted(){},updated(){},activated(){},deactivated(){}},ie=le,ne=Object(p["a"])(ie,re,oe,!1,null,"61d5cd82",null),ue=ne.exports,ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/About"}}},[e._v("首页")]),s("el-breadcrumb-item",[e._v(e._s(e.yi))]),s("el-breadcrumb-item",[e._v(e._s(e.er))])],1),s("div",{staticClass:"el-card__body"},[s("div",{staticClass:"sou"},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",clearable:"",disabled:""},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.huser,stripe:"",border:""}},[s("el-table-column",{attrs:{type:"index",label:"#",width:"60"}}),s("el-table-column",{attrs:{prop:"order_number",label:"订单编号",width:"220"}}),s("el-table-column",{attrs:{prop:"order_price",label:"订单价格",width:"145"}}),s("el-table-column",{attrs:{prop:"pay_status",label:"是否付款",width:"145"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.pay_status?s("el-tag",{attrs:{type:"danger",effect:"dark"}},[e._v("未付款")]):e._e(),1==t.row.pay_status?s("el-tag",{attrs:{effect:"dark"}},[e._v("已付款")]):e._e()]}}])}),s("el-table-column",{attrs:{prop:"is_send",label:"是否发货",width:"145"}}),s("el-table-column",{attrs:{prop:"update_time",label:"下单时间",width:"169"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("time")(t.row.update_time)))]}}])}),s("el-table-column",{attrs:{prop:"email",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{attrs:{placement:"top",enterable:!1}},[s("div",{attrs:{slot:"content"},slot:"content"},[e._v("修改订单地址")]),s("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(s){return e.xgyhff(t.row)}}})],1),s("el-tooltip",{attrs:{placement:"top",enterable:!1}},[s("div",{attrs:{slot:"content"},slot:"content"},[e._v("物流信息")]),s("el-button",{attrs:{type:"success",icon:"el-icon-location",size:"mini"},on:{click:function(s){return e.fp(t.row)}}})],1)]}}])})],1)],s("el-pagination",{attrs:{"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:e.fy.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],2),s("el-dialog",{attrs:{title:"修改地址",visible:e.dialogFormVisibles},on:{"update:visible":function(t){e.dialogFormVisibles=t}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"省市区/县",prop:"region"}},[s("el-select",{attrs:{placeholder:"请选择"},on:{click:function(t){return e.ssq()}},model:{value:e.ruleForms.regions,callback:function(t){e.$set(e.ruleForms,"regions",t)},expression:"ruleForms.regions"}},[s("el-option",{attrs:{label:"区域一",value:"shanghai"}})],1)],1),s("el-form-item",{attrs:{label:"详细地址",prop:"name"}},[s("el-input",{model:{value:e.ruleForms.names,callback:function(t){e.$set(e.ruleForms,"names",t)},expression:"ruleForms.names"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisibles=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.xgyh()}}},[e._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"物流信息",visible:e.dialogFormVisibless},on:{"update:visible":function(t){e.dialogFormVisibless=t}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"100px"}},[s("el-steps",{attrs:{direction:"vertical",active:1}},e._l(e.sfxx,(function(e,t){return s("el-step",{key:t,attrs:{title:e.context}})})),1)],1)],1)],1)},me=[],de={name:"",props:[],components:{},data(){return{yi:"",er:"",input:"",xxxx:"10",ssss:"1",huser:[],fy:[],dialogFormVisibles:!1,dialogFormVisibless:!1,sfxx:[],ruleForm:{name:"",pwd:"",yx:"",tel:""},ruleForms:{names:"",yxs:"",tels:"",regions:""},rule:{name:"",js:"",xjs:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:16,message:"长度在 3 到 16 个字符",trigger:"blur"}],yx:[{required:!0,message:"请输入邮箱",trigger:"blur"},{min:8,max:25,message:"长度在 8 到 25 个字符",trigger:"blur"}],tel:[{required:!0,message:"请输入电话",trigger:"blur"},{min:3,max:11,message:"长度在 3 到 11 个字符",trigger:"blur"}]}}},computed:{},watch:{},methods:{handleSizeChange(e){this.xxxx=e,this.axios.get(this.lj+"?pagenum="+this.ssss+"&pagesize="+this.xxxx).then(e=>{this.huser=e.data.data.goods,this.fy=e.data.data})},handleCurrentChange(e){this.ssss=e,this.axios.get(this.lj+"?pagenum="+this.ssss+"&pagesize="+this.xxxx).then(e=>{console.log(e),this.huser=e.data.data.goods,this.fy=e.data.data})},async fp(e){await this.axios.get("kuaidi/1106975712662").then(e=>{console.log(e),this.sfxx=e.data.data,console.log(this.sfxx)}),this.dialogFormVisibless=!0},xgyhff(e){this.dialogFormVisibles=!0,this.cid=e.id},xgyh(){this.dialogFormVisibles=!1,this.axios.put("users/"+this.cid,{email:this.ruleForms.yxs,mobile:this.ruleForms.tels}).then(e=>{this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{console.log(e),this.huser=e.data.data.users,this.fy=e.data.data})})},ssq(){}},created(){},mounted(){this.lj=sessionStorage.getItem("ly"),this.yi=sessionStorage.getItem("yi"),this.er=sessionStorage.getItem("er"),this.axios.get("orders?pagenum="+this.ssss+"&pagesize="+this.xxxx).then(e=>{console.log(e),this.huser=e.data.data.goods,this.fy=e.data.data,console.log(this.huser)})},updated(){},activated(){},deactivated(){}},he=de,pe=(s("930d"),Object(p["a"])(he,ce,me,!1,null,"915797a4",null)),ge=pe.exports,fe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/About"}}},[e._v("首页")]),s("el-breadcrumb-item",[e._v(e._s(e.yi))]),s("el-breadcrumb-item",[e._v(e._s(e.er))])],1),s("div",{staticClass:"el-card__body"},[s("div",{staticClass:"sou"},[s("el-button",{attrs:{type:"primary"},on:{click:e.tjfl}},[e._v("添加分类")])],1),[s("tree-table",{attrs:{data:e.huser,columns:e.columns,"selection-type":!1,"expand-type":!1,"show-index":"","index-text":"#",border:"","show-row-hover":!1},scopedSlots:e._u([{key:"isok",fn:function(e){return[!1===e.row.cat_delete?s("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}}):s("i",{staticClass:"el-icon-success",staticStyle:{color:"lightgreen"}})]}},{key:"order",fn:function(t){return[0===t.row.cat_level?s("el-tag",{attrs:{size:"mini"}},[e._v("一级")]):0===t.row.cat_level?s("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("二级")]):s("el-tag",{attrs:{size:"mini",type:"warning"}},[e._v("三级")])]}},{key:"opt",fn:function(t){return[s("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(s){return e.xgyhff(t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(s){return e.open(t.row)}}},[e._v("删除")])]}}])})],s("el-pagination",{attrs:{"page-sizes":[2,3,4,5],layout:"total, sizes, prev, pager, next, jumper",total:e.fy.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],2),s("el-dialog",{attrs:{title:"添加分类",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[s("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),s("el-cascader",{attrs:{options:e.options,props:{expandTrigger:"hover"}},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.tjyh()}}},[e._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"编辑用户",visible:e.dialogFormVisibles},on:{"update:visible":function(t){e.dialogFormVisibles=t}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"用户名",prop:"names"}},[s("el-input",{attrs:{disabled:""},model:{value:e.ruleForms.names,callback:function(t){e.$set(e.ruleForms,"names",t)},expression:"ruleForms.names"}})],1),s("el-form-item",{attrs:{label:"邮箱",prop:"yxs"}},[s("el-input",{model:{value:e.ruleForms.yxs,callback:function(t){e.$set(e.ruleForms,"yxs",t)},expression:"ruleForms.yxs"}})],1),s("el-form-item",{attrs:{label:"电话",prop:"tels"}},[s("el-input",{model:{value:e.ruleForms.tels,callback:function(t){e.$set(e.ruleForms,"tels",t)},expression:"ruleForms.tels"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisibles=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.xgyh()}}},[e._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"分配角色",visible:e.dialogFormVisibless},on:{"update:visible":function(t){e.dialogFormVisibless=t}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"当前用户"}},[s("el-input",{attrs:{disabled:""},model:{value:e.rule.name,callback:function(t){e.$set(e.rule,"name",t)},expression:"rule.name"}})],1),s("el-form-item",{attrs:{label:"当前角色"}},[s("el-input",{attrs:{disabled:""},model:{value:e.rule.js,callback:function(t){e.$set(e.rule,"js",t)},expression:"rule.js"}})],1),s("el-form-item",{attrs:{label:"分配新角色"}},[s("el-select",{attrs:{placeholder:"请选择身份"},model:{value:e.rule.xjs,callback:function(t){e.$set(e.rule,"xjs",t)},expression:"rule.xjs"}},e._l(e.sfxx,(function(e,t){return s("el-option",{key:t,attrs:{label:e.roleName,value:e.id}})})),1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisibless=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.fen()}}},[e._v("确 定")])],1)],1)],1)},be=[],ye={name:"",props:[],components:{},data(){return{columns:[{label:"分类名称",prop:"cat_name"},{label:"是否有效",type:"template",template:"isok"},{label:"排序",type:"template",template:"order"},{label:"操作",type:"template",template:"opt"}],lj:"",arr:[],yi:"",er:"",sms:"",huser:[],input:"",fy:[],sssj:[],myxs:"5",ym:"1",cid:"",tid:"",vid:"",dialogFormVisible:!1,dialogFormVisibles:!1,dialogFormVisibless:!1,sfxx:"",ruleForm:{name:"",id:0,level:0,pwd:""},ruleForms:{names:"",yxs:"",tels:""},rule:{name:"",js:"",xjs:""},rules:{name:[{required:!0,message:"请输入分类名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}]},parent:[]}},computed:{},watch:{},methods:{handleSizeChange(e){this.myxs=e,this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{this.huser=e.data.data.result,this.fy=e.data.data})},handleCurrentChange(e){this.ym=e,this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{this.huser=e.data.data.result,this.fy=e.data.data})},open(e){this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log("roles/"+e.id),this.axios.delete("users/"+e.id).then(e=>{}),this.$message({type:"success",message:"删除成功!"}),this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{console.log(e),this.huser=e.data.data.result,this.fy=e.data.data})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},tjyh(){this.dialogFormVisible=!1,this.axios.post("users",{username:this.ruleForm.name,password:this.ruleForm.pwd,email:this.ruleForm.yx,mobile:this.ruleForm.tel}).then(e=>{this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{console.log(e),this.huser=e.data.data.result,this.fy=e.data.data})})},xgyhff(e){this.dialogFormVisibles=!0,this.ruleForms.names=e.username,this.ruleForms.yxs=e.email,this.ruleForms.tels=e.create_time,this.cid=e.id},xgyh(){this.dialogFormVisibles=!1,this.axios.put("users/"+this.cid,{email:this.ruleForms.yxs,mobile:this.ruleForms.tels}).then(e=>{this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{console.log(e),this.huser=e.data.data.result,this.fy=e.data.data})})},ss(){this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs+"&query="+this.input).then(e=>{console.log(e),this.huser=e.data.data.result,this.fy=e.data.data})},qqhh(e){this.axios.put("users/"+e.id+"/state/"+e.mg_state).then(e=>{console.log(e)})},async fp(e){console.log(e),this.dialogFormVisibless=!0,this.rule.name=e.username,this.rule.js=e.role_name,this.tid=e.id,await this.axios.get("roles").then(e=>{console.log(e),this.sfxx=e.data.data,console.log(this.sfxx)})},fen(){this.axios.put("users/"+this.tid+"/role",{rid:this.rule.xjs}).then(e=>{console.log(e),this.dialogFormVisibless=!1})},async hqejfl(){const{data:e}=await this.axios.get("categories",{params:{type:2}});if(200!==e.meta.status)return this.$message.error("获取数据失败");this.parent=e.data},tjfl(){this.hqejfl(),dialogFormVisible=!0}},created(){},async mounted(){this.lj=sessionStorage.getItem("ly"),this.yi=sessionStorage.getItem("yi"),this.er=sessionStorage.getItem("er"),await this.axios.get(this.lj+"?pagenum="+this.ym+"&pagesize="+this.myxs).then(e=>{console.log(e),this.huser=e.data.data.result,this.fy=e.data.data})},updated(){},activated(){},deactivated(){}},ve=ye,xe=(s("0374"),Object(p["a"])(ve,fe,be,!1,null,"7e4e2110",null)),_e=xe.exports,Fe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div")},we=[],ke={name:"",props:[],components:{},data(){return{}},computed:{},watch:{},methods:{},created(){},mounted(){},updated(){},activated(){},deactivated(){}},je=ke,Ce=Object(p["a"])(je,Fe,we,!1,null,"43e3191b",null),$e=Ce.exports,Se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div")},ze=[],Ve={name:"",props:[],components:{},data(){return{}},computed:{},watch:{},methods:{},created(){},mounted(){},updated(){},activated(){},deactivated(){}},qe=Ve,Ee=Object(p["a"])(qe,Se,ze,!1,null,"87995c74",null),Ie=Ee.exports;a["default"].use(_["a"]);const Oe=[{path:"/",name:"Home",component:$},{path:"/about",name:"About",component:function(){return s.e("about").then(s.bind(null,"f820"))},redirect:"/about/Welcome",children:[{path:"welcome",name:"Welcome",component:W},{path:"users",name:"Users",component:I},{path:"roles",name:"Roles",component:B},{path:"rights",name:"Rights",component:Q},{path:"goods",name:"Goods",component:ae},{path:"add",name:"Add",component:ue},{path:"orders",name:"Orders",component:ge},{path:"categories",name:"Categories",component:_e},{path:"params",name:"Params",component:$e},{path:"reports",name:"Reports",component:Ie}]}],Te=new _["a"]({routes:Oe});Te.beforeEach((e,t,s)=>{console.log(sessionStorage.getItem("token")),null!=sessionStorage.getItem("token")||t.path==e.path?s():s("/")});var Pe=Te,Ne=s("2f62");a["default"].use(Ne["a"]);var Ae=new Ne["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Be=s("5c96"),De=s.n(Be);s("0fae");a["default"].use(De.a);var Le=s("b970"),Re=(s("157a"),s("772a")),He=s("d399"),Me=s("565f");a["default"].use(Me["a"]),a["default"].use(He["a"]),a["default"].use(Re["a"]),a["default"].use(Le["a"]);var We=s("d67e"),Ke=s.n(We);a["default"].config.productionTip=!1,a["default"].component("tree-table",Ke.a),a["default"].filter("time",(function(e){const t=new Date(e),s=t.getFullYear(),a=(t.getMonth()+1+"").padStart(2,"0"),r=(t.getDate()+"").padStart(2,"0"),o=(t.getHours()+"").padStart(2,"0"),l=(t.getMinutes()+"").padStart(2,"0"),i=(t.getSeconds()+"").padStart(2,"0");return`${s}-${a}-${r} ${o}:${l}:${i}`})),new a["default"]({router:Pe,store:Ae,render:function(e){return e(x)}}).$mount("#app")},"5b09":function(e,t,s){"use strict";var a=s("fa45"),r=s.n(a);r.a},"85ec":function(e,t,s){},"92cb":function(e,t,s){},"930d":function(e,t,s){"use strict";var a=s("c1b1"),r=s.n(a);r.a},ae6b:function(e,t,s){},c1b1:function(e,t,s){},c381:function(e,t,s){},cf05:function(e,t,s){e.exports=s.p+"img/logo.82b9c7a5.png"},daef:function(e,t,s){"use strict";var a=s("92cb"),r=s.n(a);r.a},e39a:function(e,t,s){},ebfa:function(e,t,s){"use strict";var a=s("ae6b"),r=s.n(a);r.a},f907:function(e,t,s){},fa45:function(e,t,s){}});
//# sourceMappingURL=app.ae8b80de.js.map