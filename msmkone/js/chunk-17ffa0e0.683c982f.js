(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17ffa0e0"],{2388:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box"},[e("header",[e("span",{on:{click:t.onClickLeft}},[t._v("〈")]),e("span",{staticClass:"title"},[t._v(t._s(t.title))]),e("van-icon",{attrs:{name:"calendar-o",size:"18"},on:{click:function(s){return t.rl()}}})],1),t._l(t.coures,(function(s,a){return e("div",{key:a,staticClass:"info"},[e("span",[t._v("共"+t._s(s.section_num)+"课时")]),e("div",{staticClass:"ks"},[e("van-progress",{attrs:{"stroke-width":"3px",color:"#eb6100","pivot-text":"",percentage:s.progress_rate}})],1),e("span",[t._v("已学习"+t._s(s.progress_rate)+"%")])])})),e("div",{staticClass:"sp"},t._l(t.newlist,(function(s,a){return e("div",{key:a,staticClass:"kc",on:{click:function(s){return t.bm()}}},[e("div",{staticClass:"hf"},[e("span",{staticClass:"dian"},[t._v("·")]),e("span",{staticClass:"hui"},[t._v("[回放]")]),e("span",{staticClass:"one"},[t._v(t._s(s.periods_title))])]),e("div",{staticClass:"lq"},[e("span",[t._v(t._s(s.teachers.length>0?s.teachers[0].teacher_name:""))]),e("span",[t._v(t._s(s.start_play))])]),e("div",{staticClass:"ks"},[e("van-progress",{attrs:{"stroke-width":"3px",color:"#eb6100","pivot-text":"",percentage:s.progress_rate}}),e("span",[t._v("已观看"+t._s(s.progress_rate)+"%")])],1)])})),0),e("footer",[e("ul",[e("li",{on:{click:t.xpl}},[e("van-icon",{attrs:{name:"edit"}}),e("span",[t._v("写评论")])],1),e("li",{on:{click:t.kcxq}},[e("van-icon",{attrs:{name:"apps-o"}}),e("span",[t._v("课程详情")])],1),e("li",{on:{click:t.del}},[e("van-icon",{attrs:{name:"delete"}}),e("span",[t._v("移除列表")])],1)])]),e("van-popup",{model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[e("span",{staticClass:"cuo",on:{click:function(s){return t.cuo()}}},[t._v("X")]),e("br"),e("div",{staticClass:"pj"},[e("span",{staticClass:"xing"},[t._v("星级: "),e("van-rate",{attrs:{touchable:!0,color:"#EA7A2F","void-color":"#EA7A2F"},model:{value:t.value,callback:function(s){t.value=s},expression:"value"}})],1),e("br"),e("span",{staticClass:"nr"},[t._v("内容:")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.fbpl,expression:"fbpl"}],attrs:{cols:"30",rows:"5"},domProps:{value:t.fbpl},on:{input:function(s){s.target.composing||(t.fbpl=s.target.value)}}}),e("br"),e("button",{on:{click:function(s){return t.fb()}}},[t._v("发布")])])])],2)},i=[],o={data(){return{title:"",show:!1,value:5,fbpl:"",xid:"",newlist:[],coures:[]}},created(){},mounted(){this.title=this.$route.query.title,this.xid=this.$route.query.id,this.kc()},methods:{onClickLeft(){this.$router.go(-1)},rl(){this.$router.push("/date")},bm(){this.$toast("回放未生成")},xpl(){this.show=!0},cuo(){this.show=!1,this.fbpl=""},kcxq(){this.$router.push({path:"/cod",query:{id:this.xid,item:this.newlist}})},async fb(){let{data:t}=await this.$Axios.post("/api/app/myStudy/comment",{grade:this.value,content:this.fbpl,course_id:this.xid,type:1});if(console.log(t),201==t.code?this.$toast(t.msg):(this.$toast("发布成功"),this.show=!1,this.fbpl=""),""==this.fbpl)return this.$toast("评价内容 必须填写"),!1},async del(){let{data:t}=await this.$Axios.delete("/api/app/myStudy/course/"+this.xid);console.log(t);let{data:s}=await this.$Axios.get("/api/app/myStudy/course/"+this.xid);this.newlist=s.data.periods,this.$toast.success("成功"),setTimeout(()=>{this.$router.push("/mycoures")},1e3)},async kc(){let{data:t}=await this.$Axios.get("/api/app/myStudy/course/"+this.xid);console.log(t),this.newlist=t.data.periods,console.log(this.newlist),this.coures.push(t.data.course),console.log(this.coures)}}},n=o,c=(e("83af"),e("2c07")),l=Object(c["a"])(n,a,i,!1,null,"6b7d7f48",null);s["default"]=l.exports},"83af":function(t,s,e){"use strict";e("f27c")},f27c:function(t,s,e){}}]);
//# sourceMappingURL=chunk-17ffa0e0.683c982f.js.map